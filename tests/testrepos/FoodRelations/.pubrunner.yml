name: FoodRelations
version: 0.1
mode: complete
resources:
   all:
#      - DISEASE_ONTOLOGY
      - PUBCHEM
      - FOODON
   main:
      - PUBMED:
         name: PUBMED
         format: bioc
#      - PMCOA:
#        name: PMCOA
#        format: bioc
   test:
      - PUBMED_TWOFILES:
         name: PUBMED
         format: bioc
#      - PMCOA_TWOFILES:
#        name: PMCOA
#        format: bioc
build:
   - python generateChemTerms.py --pubChemPMIDsFile ?PUBCHEM/CID-PMID --pubChemSynonymsFile ?PUBCHEM/CID-Synonym-filtered --outFile ?CHEMICAL_JSON
#   - python generateDiseaseTerms.py --diseaseOntologyFile ?DISEASE_ONTOLOGY/doid.obo --outFile ?DISEASE_JSON
#   - python extractFoodOnTerms.py --owlFiles ?FOODON/imports/product_type_import.owl --outFile ?FOOD_JSON
   - python extractFoodOnTerms.py --owlFiles ?FOODON/imports/langual_import.owl,?FOODON/imports/ncbitaxon_import.owl,?FOODON/imports/foodon_product_import.owl,?FOODON/imports/product_type_import.owl --outFile ?FOOD_JSON
run:
   - parallel:
      - indir: ?PUBMED
      - outdir: ?TMPDIR
      - python cooccurrenceExtractor.py --biocFile ?INFILE --wordlist1 ?FOOD_JSON --wordlist2 ?CHEMICAL_JSON --outFile ?OUTFILE
   - python combineCooccurrences.py --inDir ?TMPDIR --outFile ?RESULTFILE
output: RESULTFILE
