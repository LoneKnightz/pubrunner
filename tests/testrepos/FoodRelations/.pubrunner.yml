name: FoodRelations
version: 0.1
mode: complete
resources:
   all:
      - DISEASE_ONTOLOGY
      - FOODON
   main:
      - PUBMED:
         name: PUBMED
         format: bioc
#      - PMCOA:
#        name: PMCOA
#        format: bioc
   test:
      - PUBMED_TWOFILES:
         name: PUBMED
         format: bioc
#      - PMCOA_TWOFILES:
#        name: PMCOA
#        format: bioc
build:
   - python generateDiseaseTerms.py --diseaseOntologyFile ?DISEASE_ONTOLOGY/doid.obo --outFile ?DISEASE_JSON
   - python extractFoodOnTerms.py --owlFiles $FOODON/imports/langual_import.owl,$FOODON/imports/ncbitaxon_import.owl,$FOODON/imports/foodon_product_import.owl,$FOODON/imports/product_type_import.owl --outFile ?FOOD_JSON
run:
   - parallel:
      - dir: ?PUBMED
      - filter: .xml
      - name: FILE
      - python cooccurrenceExtractor.py --biocFile ?FILE --wordlist1 ?FOOD_JSON --wordlist2 ?DISEASE_JSON --outFile ?TMPDIR/?FILE.cooccurrences
   - python combineCooccurrences --cooccurrenceDir ?TMPDIR --outFile ?OUTFILE
output:
   - OUTFILE
