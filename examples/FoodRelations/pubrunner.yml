name: FoodRelations
version: 0.1
mode: incremental
resources:
   all:
      - PUBCHEM
      - FOODON
   main:
#      - PUBMED:
#         format: bioc
      - AGRICOLA:
         format: bioc
#      - PMCOA:
#        format: bioc
   test:
#      - PUBMED_TWOFILES:
#        rename: PUBMED
#        format: bioc
      - AGRICOLA_TWOFILES:
           rename: AGRICOLA
           format: bioc
#      - PMCOA_TWOFILES:
#        rename: PMCOA
#        format: bioc
build:
   - python generateDrugTerms.py --pubChemMeshPharmFile {IN:PUBCHEM}/MeSH-Pharm --stopwords stopwords.chemical.plusCommon.txt --outFile {OUT:CHEMICAL.JSON}
#   - python extractFoodOnTerms.py --owlFiles {IN:FOODON}/imports/langual_import.owl,{IN:FOODON}/imports/ncbitaxon_import.owl,{IN:FOODON}/imports/foodon_product_import.owl,{IN:FOODON}/imports/product_type_import.owl --outFile {OUT:FOOD.JSON}
   - cp food.json {OUT:FOOD.JSON}
run:
   - python cooccurrenceExtractor.py --biocFile {IN:AGRICOLA/*.xml} --wordlist1 {IN:FOOD.JSON} --wordlist2 {IN:CHEMICAL.JSON} --outFile {OUT:TMPDIR/*.cooccurrences}
   - python combineCooccurrences.py --inDir {IN:TMPDIR} --outFile {OUT:RESULTS.TXT}
output: RESULTS.TXT

